# 포럼 사이트 구현 계획

- [x] 1. 프로젝트 초기 설정 및 기본 구조 생성





  - Node.js 프로젝트 초기화 및 필수 패키지 설치
  - 폴더 구조 생성 (routes, models, views, public, database)
  - Express.js 기본 설정 및 미들웨어 구성
  - _요구사항: 1.1, 9.1_

- [ ] 2. 데이터베이스 시스템 구현
  - [ ] 2.1 DatabaseManager 클래스 구현
    - SQLite 연결 관리 및 포럼별 DB 라우팅 기능
    - config.db와 forum_[categoryId].db 관리
    - _요구사항: 9.1, 9.2, 9.3_

  - [ ] 2.2 Config 데이터베이스 스키마 생성
    - users, categories, moderator_permissions, site_settings 테이블
    - user_bans, user_activity_logs 테이블 추가
    - _요구사항: 1.1, 6.1, 7.1_

  - [ ] 2.3 Forum 데이터베이스 스키마 템플릿 생성
    - posts, comments 테이블 및 FTS5 검색 인덱스
    - 새 포럼 생성 시 자동 DB 초기화 기능
    - _요구사항: 3.2, 4.2, 8.1_

- [ ] 3. 인증 및 권한 시스템 구현
  - [ ] 3.1 AuthService 클래스 구현
    - bcrypt를 사용한 비밀번호 해싱
    - 사용자 등록, 로그인, 세션 관리
    - _요구사항: 1.1, 1.2, 1.3_

  - [ ] 3.2 권한 검사 미들웨어 구현
    - 사용자 역할별 권한 검증 (user/moderator/super_admin)
    - 라우터별 접근 제어
    - _요구사항: 1.4, 6.1, 7.4_

- [ ] 4. 기본 포럼 기능 구현
  - [ ] 4.1 ForumService 클래스 구현
    - 카테고리 목록 조회 및 게시글 목록 조회
    - 정렬 옵션 지원 (최신글/최신댓글 순)
    - _요구사항: 2.1, 3.1, 3.5, 3.6_

  - [ ] 4.2 게시글 CRUD 기능 구현
    - 게시글 작성, 조회, 수정 기능
    - 조회수 증가 및 last_comment_at 업데이트
    - _요구사항: 4.1, 4.2, 4.3, 4.4_

  - [ ] 4.3 댓글 시스템 구현
    - 댓글 작성, 수정 기능
    - 게시글별 댓글 목록 표시
    - _요구사항: 5.1, 5.2, 5.3, 5.4_

- [ ] 5. 검색 기능 구현
  - [ ] 5.1 FTS5 전문 검색 구현
    - 게시글 제목/내용 검색 기능
    - 카테고리별 검색 필터
    - _요구사항: 8.1, 8.2, 8.3, 8.4_

- [ ] 6. 프론트엔드 뷰 및 라우터 구현
  - [ ] 6.1 기본 EJS 템플릿 구조 생성
    - 레이아웃 템플릿 및 PicoCSS 적용
    - Alpine.js 통합 및 기본 컴포넌트
    - _요구사항: 2.1, 2.2, 2.3_

  - [ ] 6.2 메인 페이지 및 포럼 목록 구현
    - 카테고리 목록 표시 및 비로그인 사용자 접근
    - 게시글 목록 페이지 및 정렬 옵션
    - _요구사항: 2.1, 3.1, 3.2, 3.7_

  - [ ] 6.3 게시글 상세 페이지 및 댓글 UI 구현
    - 게시글 내용 표시 및 댓글 목록
    - Alpine.js를 사용한 동적 댓글 토글
    - _요구사항: 4.2, 5.2_

  - [ ] 6.4 사용자 인증 페이지 구현
    - 로그인/회원가입 폼 및 검증
    - 세션 관리 및 사용자 상태 표시
    - _요구사항: 1.1, 1.2_

- [ ] 7. 관리자 시스템 구현
  - [ ] 7.1 AdminService 클래스 구현
    - 포럼 카테고리 생성/수정/삭제 기능
    - 사용자 관리 및 권한 변경 기능
    - _요구사항: 6.1, 6.2, 6.3, 6.4_

  - [ ] 7.2 슈퍼 어드민 대시보드 구현
    - 사이트 통계 및 사용자 목록 관리
    - 포럼 카테고리 관리 인터페이스
    - _요구사항: 6.1, 6.2_

  - [ ] 7.3 모더레이터 권한 관리 구현
    - 카테고리별 모더레이터 권한 부여/제거
    - 모더레이션 도구 및 인터페이스
    - _요구사항: 7.1, 7.2, 7.3, 7.4_

  - [ ] 7.4 사용자 차단 시스템 구현
    - 사용자 차단/해제 기능
    - 차단 사유 및 기간 관리
    - _요구사항: 6.3, 7.2_

- [ ] 8. 보안 및 검증 시스템 구현
  - [ ] 8.1 입력 검증 미들웨어 구현
    - express-validator를 사용한 폼 검증
    - XSS 방지 및 HTML 이스케이프
    - _요구사항: 1.4, 4.1, 5.1_

  - [ ] 8.2 CSRF 보호 및 세션 보안 구현
    - CSRF 토큰 생성 및 검증
    - 세션 쿠키 보안 설정
    - _요구사항: 1.2, 1.3_

- [ ]* 9. 테스트 및 최적화
  - [ ]* 9.1 단위 테스트 작성
    - 데이터베이스 서비스 함수 테스트
    - 인증 및 권한 로직 테스트
    - _요구사항: 전체_

  - [ ]* 9.2 통합 테스트 작성
    - API 엔드포인트 테스트
    - 사용자 플로우 테스트
    - _요구사항: 전체_

  - [ ]* 9.3 성능 최적화 구현
    - 데이터베이스 인덱스 최적화
    - 캐싱 시스템 구현
    - _요구사항: 9.4_

- [ ] 10. 배포 준비 및 문서화
  - [ ] 10.1 환경 설정 및 배포 스크립트 작성
    - 환경변수 설정 및 프로덕션 빌드
    - 데이터베이스 마이그레이션 스크립트
    - _요구사항: 9.1, 9.4_

  - [ ] 10.2 사용자 매뉴얼 및 관리자 가이드 작성
    - 포럼 사용법 및 관리자 기능 설명
    - 설치 및 설정 가이드
    - _요구사항: 전체_